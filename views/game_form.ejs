<%- include("header") -%>
<div class="content">
  <h1>Add New Game</h1>
  <%if (locals.errors){%>
    <div class="errors">
      <h2>Please fix the following errors:</h2>
      <%for (const err of errors){%>
        <p><%=err.msg%></p>
      <%}%>
    </div>
  <%}%>
  <form action="" method="POST">
    <div class="form-item">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required value="<%locals.game===undefined ? '': game.name%>">
    </div>
    <div class="form-item">
      <label for="release_year">Year released:
        <select name="release_year" id="release_year">
          <option value=null>Please Select</option>
          <%for (let i=2023; i > 1950; i--){ %>
            <option value="<%=i%>"><%=i%></option>
          <%}%>
        </select></label>
    </div>
    <div class="form-item">
        <label for="description">Description of game:</label>
        <textarea name="description" id="description" required cols="40" rows="6"></textarea>
    </div>
    <div class="form-item">
        <label for="games_console">Games Console:</label>
        <select name="games_console" id="games_console" required>
            <% for (const console of all_consoles){%>
                <option value="<%=console.name%>"><%=console.name%></option>
            <%}%>
        </select>
    </div>
    <div class="form-item">
        <label for="price" required>Price: Â£</label>
        <input type="number" id="price" name="price" min="0" step="0.01">
    </div>
    <div class="form-item">
        <label for="number_in_stock">Number in stock:</label>
        <input type="number" id="number_in_stock" name="number_in_stock" min="0" required>
    </div>
    <button type="submit" class="add-new add-new-game">Add Game</button>
  </form>
</div>
<%- include("footer") -%>